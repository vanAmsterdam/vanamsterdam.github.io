{
  "hash": "992f876d360e78290c010e2bde5dd94e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Assigning causality for treatment-intent modelling\"\nsubtitle: \"ESTRO workshop 'Understanding dose-effects: Can we go beyond association?'\"\ndate: 2024-05-07\ncategories:\n    - \"causal inference\"\n    - invited\n    - oncology\nformat:\n    pptx: \n        reference-doc: estro-template.pptx\n        incremental: true\n    #clean-revealjs:\n    ##revealjs:\n        #incremental: true\n        #pdf-separate-fragments: true\n---\n\n\n## Why causal inference\n\n### We want to know what to do\n\n- statistical learning from passively collected data:\n  - observe: patients with metastases [poor survival]{.fragment style=\"color:red;\"}\n- from these data we can learn what to expect when we passively observe the world\n  - observe: stage I lung cancer patients\n      - with surgery: [good survival]{style=\"color:green\"}\n      - with radiotherapy: [poor survival]{style=\"color:red\"}\n- if we now stop using radiotherapy and only operate, regardless of age, comorbidities, fitness, will patients live longer?\n\n## Why causal inference\n\n### health care professionals are typically concerned with improving the world, meaning making changes (interventions) that improve outcomes\n\n- the best way to learn about what treatments (or *interventions*) are most effective is by performing them in a randomized controlled trial (RCT)\n- in causal inference we destinguish these experimental data from RCTs from observational data (=passively collected)\n- though RCTs are ideal from a theoretical point of view, they are challenged by logistical, financial and ethical issues\n- RCT for every possible change (e.g. dose adjustment, radiotherapy fractioning) infeasible, but we have observational data\n\n## What is causal inference?\n\n[- (as a verb) [statistical inference]{style=\"color: red\"} about a [causal question]{style=\"color: red\"}]{.fragment fragment-index=1}\n\n[- (as a field) define causal quantities and deduce how to them from available data given assumptions]{.fragment fragment-index=2}\n\n[- (in practice abstractly) perform an experiment (trial) or [emulate]{.alert} performing an experiment from non-experimental (observational) data]{.fragment fragment-index=4}\n\n[- (in practice concretely)]{.fragment fragment-index=5}\n\n:::{.r-stack}\n\n\n::::{.callout-tip .fragment .fade-in-then-out fragment-index=2}\n\n## backdoor rule\n\n$$\\Pr(Y=1|\\text{do}(T=1)) = E_z \\Pr(Y=1|T=1,Z=z)$$\n\n::::\n\n::::{.fragment fragment-index=5}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfit <- lm(y~t+z)\ncoef(fit)[\"t\"]\n```\n:::\n\n::::\n\n\n:::\n\n## Causal inference frameworks, a high-level introduction\n\n### Potential outcome framework\n\n- for individual: define *potential outcome* as outcome that would be observed when giving a certain treatment\n- define *individual treatment effect* (ITE) as difference in potential outcomes under treatments\n- *fundamental problem*: only one potential outcome observed (the other is *counterfactual*)\n- average of ITEs is the *average treatment effect* (ATE): can be estimated in RCTs, providing evidence for treatment guidelines\n\n## Causal inference frameworks, a high-level introduction\n\n### Directed acyclic graphs / structural causal models\n\n[- formalize model of world with variables (treatment, determinants of treatment, outcome) and *causal relationships* between these variables]{.fragment}\n\n[- define treatment effect as perfect intervention on a variable (i.e. force treatment = surgery) and calculate outcomes ($\\Pr(Y=1|\\text{do}(T=1))$)]{.fragment}\n\n[- can be estimated from data when the right assumptions are met for data available]{.fragment}\n\n<!--:::{.fragment fragment-index=2}-->\n\n<!--```{dot}-->\n  <!--digraph G {-->\n\n  <!--graph [rankdir=TB]-->\n\n  <!--node [shape=ellipse]-->\n  <!--U [label=\"Confounders\"]-->\n\n  <!--node [shape=box, height=0.3, width=0.3]-->\n  <!--G [label=\"Genotype\"]-->\n  <!--X [label=\"Phenotype\"]-->\n  <!--Y [label=\"Outcome\"]-->\n  <!--{ rank = same; G X Y }-->\n\n  <!--G -> X [minlen=3]-->\n  <!--U -> X-->\n  <!--U -> Y-->\n  <!--X -> Y [minlen=3]-->\n  <!--}-->\n<!--```-->\n\n<!--:::-->\n\n## Causal inference frameworks\n\n### Differences and agreements\n\n- frameworks address the question of [identification]{style=\"color:orange;\"}: can a causal question be estimated from observed data?\n- when given same data and assumptions, inferences are the same\n- main concerns in both settings: identify confounders, assume positivity\n- inferences rely on unverifyable assumptions\n- PO: definitions less abstract\n- DAGs: specifying assumptions less abstract\n\n## DAGs: other uses\n\n- read off variable 'types'\n  - confounders (ancestors of treatment and outcome)\n  - colliders (common effects)\n  - mediators\n- other uses:\n  - missing data mechanisms \n  - selection diagrams\n  - transportability\n\n## Setting up a causal inference study\n\n1. define question and target trial\n2. gather data\n3. formalize assumptions\n4. decide how to estimate\n5. sensitivity analyses\n6. statistical inference\n7. interpret\n\n# opportunities and challenges of causal inference with observational data in oncology\n\n## challenge: unobserved confounding by overall fitness\n\n![](proxydag.png)\n\nneed other methods of identification\n\n- proxy methods\n- instrumental variable methods\n- front door adjustment\n\n## opportunities:\n\n- new biomarkers: need estimate of treatment effect before running a trial\n- generalization of RCT estimates to general population\n- risk based treatment decisions: e.g. decide on adjuvant therapy based on risk of recurrence under no adjuvant therapy (this risk has / needs a *causal* interpretation, i.e. *risk the intervention of not given adjuvant therapy as would be observed in the control arm of an RCT*)\n- prediction-under-intervention: expected outcome under hypothetical treatment options\n\n## Further resources\n\n- book of why - Pearl, Mackenzie\n- what if - Robins, Hernan\n  \n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}