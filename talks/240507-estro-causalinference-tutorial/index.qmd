---
title: "Assigning causality for treatment-intent modelling"
subtitle: "ESTRO workshop Understanding dose-effects: Can we go beyond association?"
date: 2024-05-07
categories:
    - "causal inference"
    - invited
    - oncology
format:
    clean-revealjs:
    #revealjs:
        incremental: true
---

## Why causal inference

### We want to know what to do

- statistical learning from passively collected data:
  - observe: patients with metastases [poor survival]{.fragment .alert}
- from these data we can learn what to expect when we passively observe the world
  - observe: stage I lung cancer patients
      - with surgery: [good survival]{.fg}
      - with radiotherapy: [poor survival]{.bg}
- if we now stop using radiotherapy and only operate, regardless of age, comorbidities, fitness, will patients live longer?

## Why causal inference

### health care professionals are typically concerned with improving the world, meaning making changes (interventions) that improve outcomes

- the best way to learn about what interventions (or treatments) are most effective is by performing them in a randomized controlled trial (RCT)
- in causal inference we destinguish invertentional / RCT data from observational data (=passively collected)
- though RCTs are ideal from a theoretical point of view, they are challenged by logistical, financial and ethical issues
- RCT for every possible change (e.g. dose adjustment, radiotherapy fractioning) infeasible, but we have observational data

## What is causal inference

- (as a verb) [statistical inference]{style="color: red"} about a [causal question]{style="color: red"}
- (as a field) define causal quantities and deduce how to them from available data given assumptions


:::{.callout-tip .fragment .fade-in-then-out}

## backdoor rule

$$\Pr(Y=1|\text{do}(T=1)) = E_z \Pr(Y=1|T=1,Z=z)$$

:::


- (in practice) perform an experiment (trial) or [emulate]{.alert} performing an experiment from non-experimental (observational) data
- (concretely)

:::{.fragment}

:::

## Potential outcome framework: from ITE to ATE

## DAGs: identifying confounders, colliders and mediators

- other uses:
  - missing data mechanisms 
  - selection diagrams
  - transportability

## Setting up a causal inference study

1. define question and target trial
    - treatment intent or per-protocol analysis?
2. gather data
3. formalize assumptions
4. causal inference method
5. sensitivity analyses
6. statistical inference
7. interpret

## opportunities and challenges in oncology

## challenges: unobserved confounding by overall fitness

proxy methods, IV methods, front door

## opportunities:

- new biomarkers
- generalization to population
- risk based treatment decisions

## other applications

prediction under intervention

## resources

- book of why
- what if
  

